@{
    ViewBag.Title = "EditUserDetails";
}

@{
    Layout = "~/Views/Shared/Layout_New.cshtml";
}
@*<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/select2/3.5.0/select2.min.css" />*@
<link href="~/Content/css/select2.min.css" rel="stylesheet" />

@System.Web.Optimization.Styles.Render("~/bundles/datepickercss")
<script src="~/Scripts/ValidationFunction.js"></script>
<script src="~/Scripts/select2.min.js"></script>
@System.Web.Optimization.Scripts.Render("~/bundles/datepicker")
<style>
    .fa-exclamation-circle
    {
        color:red;
        font-size:12px;
    }
</style>
<script>
    $(function () {
        $('.datepickerclass').datepicker({
            changeMonth: true,
            changeYear: true,
            autoclose: true,
            todayHighlight: true,

            format: 'dd/M/yyyy'
        })
    });
</script>
<script>
    $(document).ready(function () {
        loadurl();
    });

    function loadurl() {
        $.ajax({
            type: 'GET',
            url: '@Url.Content("~/UserInformation/Read_Employeedetails")',
            success: function (data) {
                var ds = JSON.parse(data);


                var FinalLang = "";
                for (var i = 0; i < ds.Table1.length; i++) {
                    FinalLang += ds.Table1[i].Languagename1 + ", ";
                }
                FinalLang = FinalLang.slice(0, -2);

                var FinalSkill = "";
                for (var i = 0; i < ds.Table2.length; i++) {
                    FinalSkill += ds.Table2[i].Skills + ", ";
                }
                FinalSkill = FinalSkill.slice(0, -2);

                var dt = ds.Table[0];

                var st = ds.Table2[0];

                $(".Employee_Id").val(dt.id);
                $("#EmployeeidLabel").text(dt.Employee_Id).text;
                $("#FirstnameLabel").text(dt.Firstname).text;
                $("#LastnameLabel").text(dt.Lastname).text;
                $("#MobileLabel").text(dt.Mobile).text;
                $("#OfficialEmailLabel").text(dt.Email).text;
                $("#DesignationLabel").text(dt.Designation).text;

                if (dt.Dateofjoin != null) {
                    $("#DateofjoinLabel").text(formatDate(new Date(dt.Dateofjoin))).text;
                }

                if (dt.Department != null) {
                    $("#DepartmentLabel").text(dt.Department).text;
                }
                //dt.Department != null ? $("#DepartmentLabel").text(dt.Department).text : $("#DepartmentLabel").text('N/A').text;

                $("#GenderLabel").text(dt.Gender).text;

                if (dt.Dateofbirth != null) {
                    $("#DateofBirthLabel").text(formatDate(new Date(dt.Dateofbirth))).text;
                }

                $("#SkillsLabel").text(FinalSkill).text;

                var attr = $("#SkillsLabel").attr('data-skill-id');
                if (typeof attr !== typeof undefined && attr !== false) {
                    $("#SkillsLabel").removeAttr('data-skill-id');
                }
                $("#SkillsLabel").attr('data-skill-id', dt.Skills);
                $("#CertificatenameLabel").text(dt.Certificationname).text;
                $("#CurrentBuildingLabel").text(dt.CurrentBuilding_Plot).text;
                $("#CurrentCityLabel").text(dt.CurrentCity).text;
                $("#CurrentStateLabel").text(dt.CurrentState).text;
                $("#CurrentPincodeLabel").text(dt.CurrentPincode).text;
                $("#PermanentBuildingLabel").text(dt.PermanentBuilding_Plot).text;
                $("#PermanentCityLabel").text(dt.PermanentCity).text;
                $("#PermanentStateLabel").text(dt.PermanentState).text;
                $("#PermanentPincodeLabel").text(dt.PermanentPincode).text;
                $("#SchoolnameLabel").text(dt.Schoolname).text;

                if (dt.Schoolpassedoutyear != null) {
                    $("#SchoolpassoutLabel").text(formatDate(new Date(dt.Schoolpassedoutyear))).text;
                }
                $("#CollegenameLabel").text(dt.Collegename).text;

                if (dt.Collegepassedoutyear != null) {
                    $("#CollegepassoutLabel").text(formatDate(new Date(dt.Collegepassedoutyear))).text;
                }

                $("#QualificationLabel").text(dt.Qualification).text;
                $("#DependentnameLabel").text(dt.Dependentname).text;
                $("#RelationshipLabel").text(dt.Relationship).text;

                if (dt.RelDateofbirth != null) {
                    $("#DateofbirthLabel").text(formatDate(new Date(dt.RelDateofbirth))).text;
                }

                $("#AgeLabel").text(dt.Employee_Age).text;
                $("#BloodgroupLabel").text(dt.BloodGroup).text;
                $("#NationalityLabel").text(dt.Nationality).text;

                $("#LanguagenameLabel").text(FinalLang).text;
                var attr = $("#LanguagenameLabel").attr('data-language-id');
                if (typeof attr !== typeof undefined && attr !== false) {
                    $("#LanguagenameLabel").removeAttr('data-language-id');
                }
                $("#LanguagenameLabel").attr('data-language-id', dt.Languagename);

                $("#AlternateMobileLabel").text(dt.Employee_Alternate_Mobile).text;
                $("#PersonalMailIdLabel").text(dt.PersonalMail).text;
                $("#EmergencyContactNameLabel").text(dt.Emergency_ContactName).text;
                $("#EmergencycontactNumberLabel").text(dt.Emergency_ContactNumber).text;
                $("#ContactRelationshipLabel").text(dt.ContactRelationship).text;
            }
        });
    }

    function formatDate(date) {

        var monthNames = [
          "Jan", "Feb", "Mar",
          "Apr", "May", "Jun", "Jul",
          "Aug", "Sep", "Oct",
          "Nov", "Dec"
        ];

        var day = date.getDate();
        var monthIndex = date.getMonth();
        var year = date.getFullYear();

        return day+ '/' + monthNames[monthIndex] + '/' + year;
    }


</script>

<script>
    function Edit(actionUrl, formid, modalid, iconid, spanid) {
        $('.field-validation-valid').text('');
        $('.field-validation-valid').show();

        if (checkDetails(formid)) {
            $.ajax({
                type: 'POST',
                url: actionUrl,
                data: $('#' + formid).serialize(),
                success: function (response) {
                    if (parseInt(response.success) == 1) {
                        loadurl.call();
                        $('#' + modalid).modal('hide');
                        $('#' + iconid).show();
                        $('.' + spanid).text("Successfully Updated");
                        $('.' + spanid).show();
                    } else {
                        $('.field-validation-valid').text("Failed To Update, Already Exists");
                        $('.field-validation-valid').show();
                    }
                },
                error: function (a, b, c) {
                }
            });
        }
    };
</script>

<script>
    function EditPersonalDetails() {

        $("#bloodgroupdiv").show();
        $("#modaltitle").text("Personal Details");
        var selectedBloodgroup = $('#BloodgroupLabel').text();
        var selectedBloodgroupid;
        $("#url").val('@Url.Content("~/UserPersonalDetails/Edit")');
        $(".field-validation-valid").text("");
        $("#Age").val($("#AgeLabel").text());
        $("#BloodGroup").val();
        $.ajax({
            url: '@Url.Content("~/UserPersonalDetails/GetAllBloodGroups")',
            type: 'GET',
            success: function (data) {
                var ddData = JSON.parse(data);
                $("#BloodGroup").empty();
                $("#BloodGroup").append("<option value=''>---Select Blood Group---</option>");
                $.each(ddData, function (key, value) {

                    if (ddData[key].Text == selectedBloodgroup) {
                        selectedBloodgroupid = ddData[key].Value;
                    }

                    $("#BloodGroup").append($("<option></option>").val(ddData[key].Value).html(ddData[key].Text));

                });
                $("#BloodGroup").prepend($("<option selected></option>").val(selectedBloodgroupid).html(selectedBloodgroup));
            }
        });
        var selectedLanguages = $("#LanguagenameLabel").attr('data-language-id');
        $("#Languagename").select2();
        $.ajax({
            url: '@Url.Content("~/UserPersonalDetails/GetAllLanguages")',
            type: 'GET',
            success: function (data) {
                var ddData = JSON.parse(data);
                $("#Languagename").empty();

                $.each(ddData, function (key, value) {

                    $("#Languagename").append($("<option></option>").val(ddData[key].Value).html(ddData[key].Text));
                });
                if (selectedLanguages != '') {
                    var selectedLanguageValues = selectedLanguages.split(',');
                    $('#Languagename').select2('val', selectedLanguageValues);
                }
            }
        });
        $("#PersonalDetailsModal").modal('show');
    };
</script>

<script>
    function EditContactDetails() {

        if ($('#ContactRelationshipLabel').text() == "") {

            $("#url").val('@Url.Content("~/UserContacts/Edit")');
            $(".field-validation-valid").text("");
            $("#Employee_Alternate_Mobile").val($("#AlternateMobileLabel").text());
            $("#Personal_MailId").val($("#PersonalMailIdLabel").text());
            $("#Emergency_Contactname").val($("#EmergencyContactNameLabel").text());
            $("#Emergency_Contactnumber").val($("#EmergencycontactNumberLabel").text());
            $.ajax({

                url: '@Url.Content("~/UserDependents/GetAllRelationship")',
                type: 'GET',
                success: function (data) {
                    var ddData = JSON.parse(data);
                    $("#Contact_Relationship").empty();
                    $("#Contact_Relationship").append("<option value=''>---Select Relationship---</option>");
                    $.each(ddData, function (key, value) {

                        if (ddData[key].Text == selectedRelation) {
                            selectedRelationid = ddData[key].Value;
                        }
                        $("#Contact_Relationship").append($("<option></option>").val(ddData[key].Value).html(ddData[key].Text));
                    });
                }
            });

            $("#ContactDetailsModal").modal('show');
        }
        else {

            var selectedRelation = $('#ContactRelationshipLabel').text();
            var selectedRelationid;
            $("#url").val('@Url.Content("~/UserContacts/Edit")');
            $(".field-validation-valid").text("");
            $("#Employee_Alternate_Mobile").val($("#AlternateMobileLabel").text());
            $("#Personal_MailId").val($("#PersonalMailIdLabel").text());
            $("#Emergency_Contactname").val($("#EmergencyContactNameLabel").text());
            $("#Emergency_Contactnumber").val($("#EmergencycontactNumberLabel").text());
            $("#Contact_Relationship").val();

            $.ajax({

                url: '@Url.Content("~/UserDependents/GetAllRelationship")',
                type: 'GET',
                success: function (data) {
                    var ddData = JSON.parse(data);
                    $("#Contact_Relationship").empty();
                    $("#Contact_Relationship").append("<option value=''>---Select Relationship---</option>");
                    $.each(ddData, function (key, value) {

                        if (ddData[key].Text == selectedRelation) {
                            selectedRelationid = ddData[key].Value;
                        }
                        $("#Contact_Relationship").append($("<option></option>").val(ddData[key].Value).html(ddData[key].Text));
                    });
                    $("#Contact_Relationship").prepend($("<option selected></option>").val(selectedRelationid).html(selectedRelation));
                }
            });
            $("#ContactDetailsModal").modal('show');
        }
    };
</script>


<script>
    function EditSkills() {

        $("#url").val('@Url.Content("~/UserSkills/Edit")');
        $(".field-validation-valid").text("");

        var selectedSkills = $("#SkillsLabel").attr('data-skill-id');

        $("#Skill").select2();

        $.ajax({

            url: '@Url.Content("~/UserSkills/GetAllSkills")',
            type: 'GET',
            success: function (data) {
                var ddData = JSON.parse(data);
                $("#Skill").empty();
                $.each(ddData, function (key, value) {
                    $("#Skill").append($("<option></option>").val(ddData[key].Value).html(ddData[key].Text));
                });

                if (selectedSkills != '') {
                    var selectedSkillsValues = selectedSkills.split(',');
                    $('#Skill').select2('val', selectedSkillsValues);
                }
            }
        });

        $("#Certificationname").val($("#CertificatenameLabel").text());
        $("#SkillsModal").modal('show');
    };
</script>

<script>
    function EditAddress() {
        $("#url").val('@Url.Content("~/UserAddress/Edit")');
        $(".field-validation-valid").text("");
        $("#Current_Building").val($("#CurrentBuildingLabel").text());
        $("#Current_City").val($("#CurrentCityLabel").text());
        $("#Current_State").val($("#CurrentStateLabel").text());
        $("#Current_Pincode").val($("#CurrentPincodeLabel").text());
        $("#Permanent_Building").val($("#PermanentBuildingLabel").text());
        $("#Permanent_City").val($("#PermanentCityLabel").text());
        $("#Permanent_State").val($("#PermanentStateLabel").text());
        $("#Permanent_Pincode").val($("#PermanentPincodeLabel").text());
        $("#AddressModal").modal('show');
    }
</script>


<script>
    function EditEducation() {
        var selectedQual = $('#QualificationLabel').text();
        var selectedQualid;
        $("#url").val('@Url.Content("~/UserEducations/Edit")');
        $(".field-validation-valid").text("");
        $("#SchoolName").val($("#SchoolnameLabel").text());
        $("#SchoolPassedoutyear").val($("#SchoolpassoutLabel").text());
        $("#CollegeName").val($("#CollegenameLabel").text());
        $("#CollegePassedoutyear").val($("#CollegepassoutLabel").text());
        $("#Qualifications").val();
        $.ajax({
            url: '@Url.Content("~/UserEducations/GetAllEducations")',
            type: 'GET',
            success: function (data) {
                var ddData = JSON.parse(data);
                $("#Qualifications").empty();
                $("#Qualifications").append("<option value=''>---Select Qualification---</option>");
                $.each(ddData, function (key, value) {
                    if (ddData[key].Text == selectedQual) {
                        selectedQualid = ddData[key].Value;
                    }
                    $("#Qualifications").append($("<option></option>").val(ddData[key].Value).html(ddData[key].Text));
                });
                $("#Qualifications").prepend($("<option selected></option>").val(selectedQualid).html(selectedQual));
            }
        });
        $("#EducationModal").modal('show');
    }
</script>


<script>

    function keydownNumberOnly(e) {
      
        if ((e.keyCode == 8 || e.keyCode == 46 || e.keyCode == 190 || e.keyCode==187) || (e.keyCode >= 48 && e.keyCode <= 57)) {
            return true;
        }
        else {
            return false;
        }
    }
    function checkDetails(formName) {
       
        var rslt = false;
        $('#' + formName + ' :input').each(function () {
            rslt = false;
            $('.field-validation-valid').hide();
            if (!$(this).is('[required]'))
            {
         //       $($(this)[0].parentElement).find('.field-validation-valid').attr('disabled', true);

                rslt = true;
            }
            if (($(this).prop('type') == 'select-multiple') && ($(this).is('[required]'))) {
                if ($(this).val() == '') {
                    $($(this)[0].parentElement).find('.field-validation-valid').text($(this).attr('data-val-error-message'));
                    $('.field-validation-valid').show();
                    return false;
                } else {
                    rslt = true;
                }
            }
            if (($(this).prop('type') == 'select-one') && ($(this).is('[required]'))) {
                if ($(this).val() == '') {        //index() == 1) {
                    $($(this)[0].parentElement).find('.field-validation-valid').text($(this).attr('data-val-error-message'));
                    $('.field-validation-valid').show();
                    return false;
                } else {
                    rslt = true;
                }
            } else if (($(this).prop('type') == 'text') && ($(this).is('[required]'))) {
                var str = $(this).val();
                str = str.replace(/^\s+/, "");
                $(this).val(str);
                var reg = new RegExp($(this).attr('data-val-regex-pattern'));

                if (!reg.test(str)) {
                    $($(this)[0].parentElement).find('.field-validation-valid').text($(this).attr('data-val-error-message'));
                    $('.field-validation-valid').show();
                    return false;
                } else {
                    rslt = true;
                }

            }

        });
        return rslt;
    };
    function EditDependents() {
        var selectedRelation = $('#RelationshipLabel').text();
        var selectedRelationid;
        $("#url").val('@Url.Content("~/UserDependents/Edit")');
        $(".field-validation-valid").text("");
        $("#DependentName").val($("#DependentnameLabel").text());
        $("#Relation").val();
        $.ajax({

            url: '@Url.Content("~/UserDependents/GetAllRelationship")',
            type: 'GET',
            success: function (data) {
                var ddData = JSON.parse(data);
                $("#Relation").empty();
                $("#Relation").append("<option value=''>---Select Relationship---</option>");
                $.each(ddData, function (key, value) {

                    if (ddData[key].Text == selectedRelation) {
                        selectedRelationid = ddData[key].Value;
                    }
                    $("#Relation").append($("<option></option>").val(ddData[key].Value).html(ddData[key].Text));
                });
                $("#Relation").prepend($("<option selected></option>").val(selectedRelationid).html(selectedRelation));
            }
        });

        $("#DateofBirth").val($("#DateofbirthLabel").text());

        $("#DependentsModal").modal('show');
    }
</script>


<div class="employeedetails">
<div class="card">
    <div class="card-header">
        <div class="content-body">Employee Details</div>
    </div>
    <div class="card-body p0">
        <div class="p20 m-b-10">
            <div class="shadow">
                <div class="row">
                    <div class="col-12">
                        <h6 class="mt-1 mb-1 text-primary">Primary</h6>
                    </div>
                </div>
                <hr class="my-1" />
                <div class="row m-t-15">
                    <div class="col-md-2" style="text-align: center;">
                        <img id="profile_image" src='data:image/png;base64,@ViewBag.Image' alt="mtsin.com" class="img-polaroid img-thumbnail rounded img-fluid">
                    </div>
                    <div class="col-md-10">
                        <div class="row">
                            <div class="col-md-5">
                                <div>
                                    <label id="rowid" style="display: none"></label>
                                    <label class="fz13">Employee Id :</label>
                                    <label class="text-danger fz13 font-weight-bold" id="EmployeeidLabel"></label>
                                </div>
                                <div>
                                    <label class="fz13">First Name :</label>
                                    <label class="control-label col-xs-12 iceLabel fz13 font-weight-bold" id="FirstnameLabel"></label>
                                </div>
                                <div>
                                    <label class="fz13">Last Name :</label>
                                    <label class="control-label col-xs-12 iceLabel fz13 font-weight-bold" id="LastnameLabel"></label>
                                </div>
                                <div>
                                    <label class="fz13">Date of Birth :</label>
                                    <label class="control-label col-xs-12 iceLabel fz13 font-weight-bold" id="DateofBirthLabel"></label>
                                </div>
                                <div>
                                    <label class="fz13">Employee Mobile :</label>
                                    <label class="control-label col-xs-12 iceLabel fz13 font-weight-bold" id="MobileLabel"></label>
                                </div>
                                <div>
                                    <label class="fz13">Official Mail :</label>
                                    <label class="control-label col-xs-12 iceLabel fz13 font-weight-bold" id="OfficialEmailLabel"></label>
                                </div>
                                <div>
                                    <label class="fz13">Designation :</label>
                                    <label class="control-label col-xs-12 iceLabel fz13 font-weight-bold" id="DesignationLabel"></label>
                                </div>
                            </div>
                            <div class="col-md-7">
                                <div>
                                    <label class="fz13">Nationality :</label>
                                    <label class="control-label col-xs-12 iceLabel fz13 font-weight-bold" id="NationalityLabel"></label>
                                </div>
                                <div>
                                    <label class="fz13">Date Of Join :</label>
                                    <label class="control-label col-xs-12 iceLabel fz13 font-weight-bold" id="DateofjoinLabel"></label>
                                </div>
                                <div>
                                    <label class="fz13">Department :</label>
                                    <label class="control-label col-xs-12 iceLabel fz13 font-weight-bold" id="DepartmentLabel"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="p20 p-t-0 m-b-10">
            <div class="shadow">
                <div class="row">
                    <div class="col-9">
                        <h6 class="mt-1 mb-1 text-primary">Personal</h6>
                    </div>
                    <div class="col-3">
                        <i id="PersonalField_Successicon" class="fa fa-check" style="color: green; display: none"></i>
                        <span class="PersonalField_Success_Message" style="color: green; font: bold; display: none"></span>&nbsp;&nbsp;
                        <a href="javascript:void(0)" onclick="EditPersonalDetails()" id="edit" class="p-1 pull-right text-dark rounded bg-warning fz13"><i class="fa fa-edit"></i>&nbsp;Edit</a>
                    </div>
                </div>
                <hr class="my-1" />
                <div class="row m-t-15">
                    <div class="col-12 col-md-4 col-lg-4">
                        <label class="fz13">Age :</label>
                        <label class="control-label col-xs-12 iceLabel fz13 font-weight-bold" id="AgeLabel"></label>
                    </div>

                    <div class="col-12 col-md-4 col-lg-4">
                        <label class="fz13">Blood Group  :</label>
                        <label class="control-label col-xs-12 iceLabel fz13 font-weight-bold" id="BloodgroupLabel"></label>
                    </div>

                    <div class="col-12 col-md-4 col-lg-4">
                        <label class="fz13">Known Languages :</label>
                        <label class="control-label col-xs-12 iceLabel fz13 font-weight-bold" id="LanguagenameLabel"></label>
                    </div>

                </div>
            </div>
        </div>
        <div class="p20 p-t-0 m-b-10">
            <div class="shadow">
                <div class="row">
                    <div class="col-9">
                        <h6 class="mt-1 mb-1 text-primary">Contact</h6>
                    </div>
                    <div class="col-3">
                        <i id="ContactField_Successicon" class="fa fa-check" style="color: green; display: none"></i>
                        <span class="ContactField_Success_Message" style="color: green; font: bold; display: none"></span>&nbsp;&nbsp;
                          <a href="javascript:void(0)" onclick="EditContactDetails()" id="edit" class="p-1 pull-right text-dark rounded bg-warning fz13"><i class="fa fa-edit"></i>&nbsp;Edit</a>
                    </div>
                </div>
                <hr class="my-1" />
                <div class="row m-t-15">
                    <div class="col-12 col-md-3 col-lg-4">
                        <label class="fz13">Alternate Mobile :</label>
                        <label class="control-label col-xs-12 iceLabel fz13 font-weight-bold" id="AlternateMobileLabel"></label>
                    </div>
                    <div class="col-12 col-md-3 col-lg-4">
                        <label class="fz13">Personal Email :</label>
                        <label class="control-label col-xs-12 iceLabel fz13 font-weight-bold" id="PersonalMailIdLabel"></label>
                    </div>
                    <div class="col-12 col-md-4 col-lg-4">
                        <label class="fz13">Emergency Contact Name :</label>
                        <label class="control-label col-xs-12 iceLabel fz13 font-weight-bold" id="EmergencyContactNameLabel"></label>
                    </div>
                    <div class="col-12 col-md-4 col-lg-4">
                        <label class="fz13">Emergency Contact Number :</label>
                        <label class="control-label col-xs-12 iceLabel fz13 font-weight-bold" id="EmergencycontactNumberLabel"></label>
                    </div>
                    <div class="col-12 col-md-4 col-lg-4">
                        <label class="fz13">Relationship :</label>
                        <label class="control-label col-xs-12 iceLabel fz13 font-weight-bold" id="ContactRelationshipLabel"></label>
                    </div>


                </div>
            </div>
        </div>
        <div class="p20 p-t-0 m-b-10">
            <div class="shadow">
                <div class="row">
                    <div class="col-9">
                        <h6 class="mt-1 mb-1 text-primary">Skills And Certifications</h6>
                    </div>
                    <div class="col-3">
                        <i id="SkillField_Successicon" class="fa fa-check" style="color: green; display: none"></i>
                        <span class="SkillField_Success_Message" style="color: green; font: bold; display: none"></span>&nbsp;&nbsp;
                         <a href="javascript:void(0)" onclick="EditSkills()" id="edit" class="p-1 pull-right text-dark rounded bg-warning fz13"><i class="fa fa-edit"></i>&nbsp;Edit</a>
                    </div>
                </div>
                <hr class="my-1" />
                <div class="row m-t-15">
                    <div class="col-12 col-md-4 col-lg-3">
                        <label class="fz13">Skills :</label>
                        <label class="control-label col-xs-12 iceLabel" style="font-size: 13px; font-weight: bold;" id="SkillsLabel"></label>
                    </div>
                    <div class="col-12 col-md-6 col-lg-6">
                        <label class="fz13">Certification Name  :</label>
                        <label class="control-label col-xs-12 iceLabel" style="font-size: 13px; font-weight: bold;" id="CertificatenameLabel"></label>
                    </div>

                </div>
            </div>
        </div>
        <div class="p20 p-t-0 m-b-10">
            <div class="shadow">
                <div class="row">
                    <div class="col-9">
                        <h6 class="mt-1 mb-1 text-primary">Address</h6>
                    </div>
                    <div class="col-3">
                        <i id="AddressField_Successicon" class="fa fa-check" style="color: green; display: none"></i>
                        <span class="AddressField_Success_Message" style="color: green; font: bold; display: none"></span>&nbsp;&nbsp;
                        <a href="javascript:void(0)" onclick="EditAddress()" id="edit" class="p-1 pull-right text-dark rounded bg-warning fz13"><i class="fa fa-edit"></i>&nbsp;Edit</a>
                    </div>
                </div>
                <hr class="my-1" />
                <div class="row m-t-10">
                    <div class="col-12 col-sm-6 col-lg-6">
                        <div class="col-12">
                            <b class="font-weight-normal text-success text-uppercase">Current</b>
                            <hr class="my-1" />
                        </div>
                        <div class="col-12">
                            <label class="fz13">Building/Plot/No/Street : </label>
                            <label class="control-label col-xs-12 iceLabel fz13 font-weight-bold" id="CurrentBuildingLabel"></label>
                        </div>
                        <div class="col-12">
                            <label class="fz13">City : </label>
                            <label class="control-label col-xs-12 iceLabel fz13 font-weight-bold" id="CurrentCityLabel"></label>
                        </div>
                        <div class="col-12">
                            <label class="fz13">State :</label>
                            <label class="control-label col-xs-12 iceLabel fz13 font-weight-bold" id="CurrentStateLabel"></label>
                        </div>
                        <div class="col-12">
                            <label class="fz13">Pincode :</label>
                            <label class="control-label col-xs-12 iceLabel fz13 font-weight-bold" id="CurrentPincodeLabel"></label>
                        </div>
                    </div>
                    <div class="col-12 col-sm-6 col-lg-6">
                        <div class="col-12">
                            <b class="font-weight-normal text-success text-uppercase">Permanent</b>
                            <hr class="my-1" />
                        </div>
                        <div class="col-12">
                            <label class="fz13">Building/Plot/No/Street : </label>
                            <label class="control-label col-xs-12 iceLabel fz13 font-weight-bold" id="PermanentBuildingLabel"></label>
                        </div>
                        <div class="col-12">
                            <label class="fz13">City :</label>
                            <label class="control-label col-xs-12 iceLabel fz13 font-weight-bold" id="PermanentCityLabel"></label>
                        </div>
                        <div class="col-12">
                            <label class="fz13">State :</label>
                            <label class="control-label col-xs-12 iceLabel fz13 font-weight-bold" id="PermanentStateLabel"></label>
                        </div>
                        <div class="col-12">
                            <label class="fz13">Pincode:</label>
                            <label class="control-label col-xs-12 iceLabel fz13 font-weight-bold" id="PermanentPincodeLabel"></label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="p20 p-t-0 m-b-10">
            <div class="shadow">
                <div class="row">
                    <div class="col-9">
                        <h6 class="mt-1 mb-1 text-primary">Educations</h6>
                    </div>
                    <div class="col-3">
                        <i id="EducationField_Successicon" class="fa fa-check" style="color: green; display: none"></i>
                        <span class="EducationField_Success_Message" style="color: green; font: bold; display: none"></span>&nbsp;&nbsp;
                        <a href="javascript:void(0)" onclick="EditEducation()" id="edit" class="p-1 pull-right text-dark rounded bg-warning fz13"><i class="fa fa-edit"></i>&nbsp;Edit</a>
                    </div>
                </div>
                <hr class="my-1" />
                <div class="row m-t-15">
                    <div class="col-12 col-md-6 col-lg-6">
                        <label class="fz13">School Name :</label>
                        <label class="control-label col-xs-12 iceLabel fz13 font-weight-bold" id="SchoolnameLabel"></label>
                    </div>
                    <div class="col-12 col-md-6 col-lg-6">
                        <label class="fz13">School passed out year :</label>
                        <label class="control-label col-xs-12 iceLabel fz13 font-weight-bold" id="SchoolpassoutLabel"></label>
                    </div>
                    <div class="col-12 col-md-6 col-lg-6">
                        <label class="fz13">College Name  :</label>
                        <label class="control-label col-xs-12 iceLabel fz13 font-weight-bold" id="CollegenameLabel"></label>
                    </div>
                    <div class="col-12 col-md-6 col-lg-6">
                        <label class="fz13">College passed out year :</label>
                        <label class="control-label col-xs-12 iceLabel fz13 font-weight-bold" id="CollegepassoutLabel"></label>
                    </div>
                    <div class="col-12 col-md-6 col-lg-6">
                        <label class="fz13">Qualification :</label>
                        <label class="control-label col-xs-12 iceLabel fz13 font-weight-bold" id="QualificationLabel"></label>
                    </div>
                </div>
            </div>
        </div>

        <div class="p20 p-t-0 m-b-10">
            <div class="shadow">
                <div class="row">
                    <div class="col-9">
                        <h6 class="mt-1 mb-1 text-primary">Dependents</h6>
                    </div>
                    <div class="col-3">
                        <i id="DependentField_Successicon" class="fa fa-check" style="color: green; display: none"></i>
                        <span class="DependentField_Success_Message" style="color: green; font: bold; display: none"></span>&nbsp;&nbsp;
                        <a href="javascript:void(0)" onclick="EditDependents()" id="edit" class="p-1 pull-right text-dark rounded bg-warning fz13"><i class="fa fa-edit"></i>&nbsp;Edit</a>
                    </div>
                </div>
                <hr class="my-1" />
                <div class="row m-t-15">
                    <div class="col-12 col-md-3 col-lg-3">
                        <label class="fz13">Dependent Name :</label>
                        <label class="control-label col-xs-12 iceLabel fz13 font-weight-bold" id="DependentnameLabel"></label>
                    </div>
                    <div class="col-12 col-md-3 col-lg-3">
                        <label class="fz13">Relationship :</label>
                        <label class="control-label col-xs-12 iceLabel fz13 font-weight-bold" id="RelationshipLabel"></label>
                    </div>
                    <div class="col-12 col-md-3 col-lg-3">
                        <label class="fz13">Date of Birth  :</label>
                        <label class="control-label col-xs-12 iceLabel fz13 font-weight-bold" id="DateofbirthLabel"></label>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>
    </div>

<div class="modal fade" id="PersonalDetailsModal" data-backdrop="static" keyboard="false">
    <div class="modal-dialog modal-md">
        <div class="modal-content">
            <div class="modal-header">

                <h4 id="modaltitle" class="modal-title"></h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times</span></button>
            </div>
            <div class="modal-body">
                <form id="personaldetailsform" autocomplete="on">
                    <input class="Employee_Id" name="Employee_Id" type="hidden" />
                    <input type="hidden" class="form-control" id="url" value="">
                    <div class="form-group">
                        <input type="hidden" class="form-control" name="Age" id="Age" disabled />
                        @*<span class="field-validation-valid" style="color: red; font: bold; display: none"></span>*@

                    </div>
                    <div id="bloodgroupdiv" class="form-group">
                        <label>Blood Group</label>
                        <select class="form-control" name="BloodGroup" id="BloodGroup" data-val-error-message="Please Select Blood Group" required>
                        </select>
                        <span class="field-validation-valid" style="color: red; font: bold; display: none"></span>

                    </div>

                    <div class="form-group">
                        <label>Known Languages</label>

                        <select class="form-control" multiple="multiple" name="Languagename" id="Languagename" style="border: none; padding: 0px" data-val-error-message="Please Select Known Languages" required>
                        </select>

                        <span class="field-validation-valid" style="color: red; font: bold; display: none"></span>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <div class="dataurl">
                    <div>
                         <button type="button" class="btn btn-light" onclick="Close('PersonalDetailsModal')">Close</button>
                        <button type="button" id="save" class="btn btn-primary" onclick="Edit($('#url').val(), 'personaldetailsform', 'PersonalDetailsModal', 'PersonalField_Successicon', 'PersonalField_Success_Message')">Save</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<br />

<div class="modal fade" id="ContactDetailsModal" data-backdrop="static" keyboard="false">
    <div class="modal-dialog modal-md">
        <div class="modal-content">
            <div class="modal-header">
                <h4 id="actiontitle" class="modal-title">Contact Details</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times</span></button>
            </div>
            <div class="modal-body">
                <form id="contactdetailsform" autocomplete="on">
                    <input class="Employee_Id" name="Employee_Id" type="hidden" />
                    <input type="hidden" class="form-control" id="url" value="">
                    <div class="form-group">
                        <label>Alternate Mobile</label> &nbsp<span data-toggle="tooltip" data-placement="right" title="ex +919876543210" class="fa fa-exclamation-circle"></span>
                        <input type="text" class="form-control" name="Employee_Alternate_Mobile" data-val-error-message="Please Enter Alternate Mobile Number" onkeydown="return keydownNumberOnly(event);"  id="Employee_Alternate_Mobile" minlength="13" maxlength="15" data-val-regex-pattern="^[0-9+]{13,15}$" required />
                        <span class="field-validation-valid" style="color: red; font: bold; display: none"></span>

                      </div>
                    <div class="form-group">
                        <label>Personal Email</label>
                        <input type="text" class="form-control" name="Personal_MailId" id="Personal_MailId" data-val-error-message="Please Enter Personal Email"  data-val-regex-pattern="^([\w\.\-]+)@@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$" required />
                        <span class="field-validation-valid" style="color: red; font: bold; display: none"></span>

                      </div>
                    <div class="form-group">
                        <label>Emergency Contact Name</label>
                        <input type="text" class="form-control" name="Emergency_Contactname" data-val-error-message="Please Enter Emergency Contact Name"  id="Emergency_Contactname" maxlength="50" data-val-regex-pattern="^[a-zA-Z. ]+$" required>
                        <span class="field-validation-valid" style="color: red; font: bold; display: none"></span>

                     </div>
                    <div class="form-group">
                        <label>Emergency Contact Number</label>
                        <input type="text" class="form-control" name="Emergency_Contactnumber" onkeydown="return keydownNumberOnly(event);" data-val-error-message="Please Enter Emergency Contact Number"  id="Emergency_Contactnumber" maxlength="15" data-val-regex-pattern="^[0-9+]{13,15}$" required />
                        <span class="field-validation-valid" style="color: red; font: bold; display: none"></span>

                     </div>
                    <div class="form-group">
                        <label>Relationship</label>
                        <select class="form-control" name="Contact_Relationship" id="Contact_Relationship" data-val-error-message="Please Select Relationship" required>
                        </select>
                        <span class="field-validation-valid" style="color: red; font: bold; display: none"></span>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <div class="dataurl">
                    <div>
                        <button type="button" class="btn btn-light" onclick="Close('ContactDetailsModal')">Close</button>
                        <button type="button" id="save" class="btn btn-primary" onclick="Edit($('#url').val(), 'contactdetailsform', 'ContactDetailsModal', 'ContactField_Successicon', 'ContactField_Success_Message')">Save</button>
                       
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<br />

<div class="modal fade" id="SkillsModal" data-backdrop="static" keyboard="false">
    <div class="modal-dialog modal-md">
        <div class="modal-content">
            <div class="modal-header">
                <h4 id="actiontitle" class="modal-title">Skills & Certification</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times</span></button>
            </div>
            <div class="modal-body">
                <form id="skillsform" autocomplete="on">
                    <input class="Employee_Id" name="Employee_Id" type="hidden" />
                    <input type="hidden" class="form-control" id="url" value="">
                    <div class="form-group">
                        <label>Skills</label>
                        <select class="form-control" multiple="multiple" name="Skill" data-val-error-message="Please Select Skills"  id="Skill" data-val-regex-pattern="please select Skills" required>
                        </select>
                        <span class="field-validation-valid" style="color: red; font: bold; display: none"></span>

                    </div>
                    <div class="form-group">
                        <label>Certification Name</label>
                        <input type="text" class="form-control" name="Certificationname" data-val-error-message="Please Enter Certification Name"  id="Certificationname" maxlength="50" data-val-regex-pattern="^[a-zA-Z#+, ]+$" required />
                        <span class="field-validation-valid" style="color: red; font: bold; display: none"></span>
                    </div>

                </form>
            </div>
            <div class="modal-footer">
                <div class="dataurl">
                    <div>
                         <button type="button" class="btn btn-light" onclick="Close('SkillsModal')">Close</button>
                        <button type="button" id="save" class="btn btn-primary" onclick="Edit($('#url').val(), 'skillsform', 'SkillsModal', 'SkillField_Successicon', 'SkillField_Success_Message')">Save</button>
                       
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<div class="modal fade" id="AddressModal" data-backdrop="static" keyboard="false">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 id="actiontitle" class="modal-title">Address</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times</span></button>
            </div>
            <div class="modal-body">
                <form id="addressform" autocomplete="on">
                    <input class="Employee_Id" name="Employee_Id" type="hidden" />
                    <div class="row">
                        <input type="hidden" class="form-control" id="url" value="">
                        <div class="col-sm-6">
                            <label>Current Building/Plot/No/Street</label> &nbsp <span data-toggle="tooltip"  data-placement="right" title="No Special Characters Allowed Except Space" class="fa fa-exclamation-circle"></span>
                            <input type="text" class="form-control" name="Current_Building" data-val-error-message="Please fill this field" id="Current_Building" maxlength="100" data-val-regex-pattern="^[a-zA-Z0-9,/ ]+$"  />
                            <span class="field-validation-valid" style="color: red; font: bold; display: none"></span>

                          </div>
                        <div class="col-sm-6">
                            <label>City</label>
                            <input type="text" class="form-control" name="Current_City" id="Current_City" data-val-error-message="Please Enter City Name" maxlength="50" data-val-regex-pattern="^[a-zA-Z, ]+$"  />
                            <span class="field-validation-valid" style="color: red; font: bold; display: none"></span>

                          </div>
                        <div class="col-sm-6">
                            <label>State</label>
                            <input type="text" class="form-control" name="Current_State" id="Current_State" maxlength="50" data-val-error-message="Please Enter State Name" data-val-regex-pattern="^[a-zA-Z, ]+$"  />
                            <span class="field-validation-valid" style="color: red; font: bold; display: none"></span>

                          </div>
                        <div class="col-sm-6">
                            <label>Pincode</label>
                            <input type="text" class="form-control" name="Current_Pincode" id="Current_Pincode" onkeydown="return keydownNumberOnly(event);" data-val-error-message="Please Enter Pincode" maxlength="6" data-val-regex-pattern="^[1-9][0-9]{5}$"  />
                            <span class="field-validation-valid" style="color: red; font: bold; display: none"></span>

                        </div>
                        <div class="col-sm-6">
                            <label>Permanent Building/Plot/No/Street</label>
                            <input type="text" class="form-control" name="Permanent_Building" id="Permanent_Building" data-val-error-message="Please fill this field" maxlength="100" data-val-regex-pattern="^[a-zA-Z0-9,/ ]+$"  />
                            <span class="field-validation-valid" style="color: red; font: bold; display: none"></span>

                        </div>
                        <div class="col-sm-6">
                            <label>City</label>
                            <input type="text" class="form-control" name="Permanent_City" id="Permanent_City" maxlength="50" data-val-error-message="Please Enter City Name" data-val-regex-pattern="^[a-zA-Z ]+$"  />
                            <span class="field-validation-valid" style="color: red; font: bold; display: none"></span>

                         </div>
                        <div class="col-sm-6">
                            <label>State</label>
                            <input type="text" class="form-control" name="Permanent_State" id="Permanent_State" maxlength="50" data-val-error-message="Please Enter State Name" data-val-regex-pattern="^[a-zA-Z ]+$"  />
                            <span class="field-validation-valid" style="color: red; font: bold; display: none"></span>

                        </div>
                        <div class="col-sm-6">
                            <label>Pincode</label>
                            <input type="text" class="form-control" name="Permanent_Pincode" id="Permanent_Pincode" onkeydown="return keydownNumberOnly(event);" data-val-error-message="Please Enter Pincode" maxlength="6" data-val-regex-pattern="^[1-9][0-9]{5}$"  />
                            <span class="field-validation-valid" style="color: red; font: bold; display: none"></span>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <div class="dataurl">
                    <div>
                          <button type="button" class="btn btn-light" onclick="Close('AddressModal')">Close</button>
                        <button type="button" id="save" class="btn btn-primary" onclick="Edit($('#url').val(), 'addressform', 'AddressModal', 'AddressField_Successicon', 'AddressField_Success_Message')">Save</button>
                      
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<div class="modal fade" id="EducationModal" data-backdrop="static" keyboard="false">
    <div class="modal-dialog modal-md">
        <div class="modal-content">
            <div class="modal-header">
                <h4 id="actiontitle" class="modal-title">Education</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times</span></button>
            </div>
            <div class="modal-body">
                <form id="educationform" autocomplete="on">
                    <input class="Employee_Id" name="Employee_Id" type="hidden" />
                    <div class="form-group">
                        <label>School Name</label>
                        <input type="text" class="form-control" name="SchoolName" id="SchoolName" maxlength="50" data-val-error-message="Please Enter School Name" data-val-regex-pattern="^[a-zA-Z ]+$"  />
                        <span class="field-validation-valid" style="color: red; font: bold; display: none"></span>

                     </div>
                    <div class="form-group">
                        <label>School passed out year</label>
                        <input type="text" class="form-control datepickerclass" name="SchoolPassedoutyear" data-val-error-message="Please Enter Passed Out Year" id="SchoolPassedoutyear" data-val-regex-pattern="^(([0-9])|([0-2][0-9])|([3][0-1]))\/(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\/\d{4}$"  />
                        <span class="field-validation-valid" style="color: red; font: bold; display: none"></span>

                    </div>
                    <div class="form-group">
                        <label>College Name</label>
                        <input type="text" class="form-control" name="CollegeName" id="CollegeName" maxlength="50" data-val-error-message="Please Enter College Name" data-val-regex-pattern="^[a-zA-Z ]+$"  />
                        <span class="field-validation-valid" style="color: red; font: bold; display: none"></span>
                    </div>
                    <div class="form-group">
                        <label>College passed out year</label>
                        <input type="text" class="form-control datepickerclass" name="CollegePassedoutyear" data-val-error-message="Please Enter Passed Out Year" id="CollegePassedoutyear" data-val-regex-pattern="^(([0-9])|([0-2][0-9])|([3][0-1]))\/(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\/\d{4}$"  />
                        <span class="field-validation-valid" style="color: red; font: bold; display: none"></span>

                    </div>
                    <div class="form-group">
                        <label>Highest Qualification</label>
                        <select class="form-control" name="Qualifications" id="Qualifications" data-val-error-message="Please Select Qualification" >
                        </select>
                        <span class="field-validation-valid" style="color: red; font: bold; display: none"></span>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <div class="dataurl">
                    <div>
                         <button type="button" class="btn btn-light" onclick="Close('EducationModal')">Close</button>
                        <button type="button" id="save" class="btn btn-primary" onclick="Edit($('#url').val(), 'educationform', 'EducationModal', 'EducationField_Successicon', 'EducationField_Success_Message')">Save</button>
                       
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<div class="modal fade" id="DependentsModal" data-backdrop="static" keyboard="false">
    <div class="modal-dialog modal-md">
        <div class="modal-content">
            <div class="modal-header">
                <h4 id="actiontitle" class="modal-title">Dependents</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times</span></button>
            </div>
            <div class="modal-body">
                <form id="dependentform" autocomplete="on">
                    <input class="Employee_Id" name="Employee_Id" type="hidden" />
                    <input type="hidden" class="form-control" id="url" value="">
                    <div class="form-group">
                        <label>Dependent Name</label>
                        <input type="text" class="form-control" name="DependentName" id="DependentName" data-val-error-message="Please Enter Valid Name" maxlength="50" data-val-regex-pattern="^[a-zA-Z ]+$" required />
                        <span class="field-validation-valid" style="color: red; font: bold; display: none"></span>

                     </div>
                    <div class="form-group">
                        <label>Date of Birth</label>
                        <input type="text" class="form-control datepickerclass" name="DateofBirth" id="DateofBirth" data-val-error-message="Please Enter Valid Date" data-val-regex-pattern="^(([0-9])|([0-2][0-9])|([3][0-1]))\/(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\/\d{4}$" required>
                        <span class="field-validation-valid" style="color: red; font: bold; display: none"></span>

                    </div>
                    <div class="form-group">
                        <label>Relationship</label>
                        <select class="form-control" name="Relation" id="Relation" data-val-error-message="Please Select Relationship" required>
                        </select>
                        <span class="field-validation-valid" style="color: red; font: bold; display: none"></span>
                    </div>

                </form>
            </div>
            <div class="modal-footer">
                <div class="dataurl">
                    <div>
                         <button type="button" class="btn btn-light" onclick="Close('DependentsModal')">Close</button>
                        <button type="button" id="save" class="btn btn-primary" onclick="Edit($('#url').val(), 'dependentform', 'DependentsModal', 'DependentField_Successicon', 'DependentField_Success_Message')">Save</button>
                       
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>








